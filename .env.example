# Neo4j Memory System Configuration
# Copy this file to .env and set your values

# Neo4j Connection (REQUIRED)
NEO4J_PASSWORD=your_secure_password_here

# Neo4j Connection Details (Optional - safer defaults, not standard Neo4j ports)
# Using non-standard ports to avoid conflicts with other Neo4j instances
NEO4J_URI=bolt://localhost:7787
NEO4J_USER=neo4j
NEO4J_BOLT_PORT=7787
NEO4J_HTTP_PORT=7774

# Docker Configuration (Optional)
NEO4J_CONTAINER_NAME=amplihack-neo4j
NEO4J_IMAGE=neo4j:5.15-community

# Performance Tuning (Optional)
NEO4J_HEAP_SIZE=2G
NEO4J_PAGE_CACHE_SIZE=1G

# Behavior (Optional)
NEO4J_AUTO_START=true
NEO4J_STARTUP_TIMEOUT=30
NEO4J_HEALTH_CHECK_INTERVAL=2

# Docker Compose (Optional - auto-detected)
# NEO4J_COMPOSE_CMD=docker

# ============================================================================
# Azure Service Principal Credentials
# ============================================================================
# Required for remote execution on Azure VMs

# Azure AD Tenant ID (Directory ID)
AZURE_TENANT_ID=your-tenant-id-here

# Service Principal Application (Client) ID
AZURE_CLIENT_ID=your-client-id-here

# Service Principal Client Secret Value
AZURE_CLIENT_SECRET=your-client-secret-here

# Azure Subscription ID
AZURE_SUBSCRIPTION_ID=your-subscription-id-here

# Optional: Default Resource Group
# AZURE_RESOURCE_GROUP=your-resource-group-name

# ----------------------------------------------------------------------------
# HOW TO GET THESE VALUES:
# ----------------------------------------------------------------------------
#
# 1. Create Service Principal:
#    az ad sp create-for-rbac --name "amplihack-remote-exec" \
#      --role Contributor \
#      --scopes /subscriptions/YOUR_SUBSCRIPTION_ID
#
# 2. The command outputs:
#    {
#      "appId": "<your-client-id>",          # Use for AZURE_CLIENT_ID
#      "displayName": "amplihack-remote-exec",
#      "password": "<your-client-secret>",   # Use for AZURE_CLIENT_SECRET
#      "tenant": "<your-tenant-id>"          # Use for AZURE_TENANT_ID
#    }
#
# 3. Get Subscription ID:
#    az account show --query id -o tsv
#
# ----------------------------------------------------------------------------
# SECURITY NOTES:
# ----------------------------------------------------------------------------
#
# - NEVER commit .env files to git (already in .gitignore)
# - Rotate secrets regularly (90 days recommended)
# - Use minimum required permissions (Contributor on specific resource group)
# - Store backups encrypted
# - Revoke unused Service Principals
