# SECURE Environment Template for Amplihack Proxy
# Copy to .env and populate with your actual values

# =============================================================================
# SECURITY FIRST: API KEYS AND CREDENTIALS
# =============================================================================
# NEVER commit actual keys to version control
# Use environment variables or secure secrets management

# Azure OpenAI Credentials (REQUIRED)
AZURE_OPENAI_KEY=your_azure_key_here  # pragma: allowlist secret
OPENAI_API_KEY=your_openai_key_here  # pragma: allowlist secret
AZURE_API_VERSION=preview

# =============================================================================
# TOOL CALLING SECURITY CONFIGURATION
# =============================================================================
# Balances security with functionality

# Tool execution limits
AMPLIHACK_TOOL_RETRY_ATTEMPTS=5
AMPLIHACK_TOOL_ONE_PER_RESPONSE=false  # Allow complex workflows
ENABLE_TOOL_FALLBACK=true

# Timeout configurations (in seconds)
REQUEST_TIMEOUT=300
TOOL_EXECUTION_TIMEOUT=120

# =============================================================================
# LOG STREAMING SECURITY (Already Secure)
# =============================================================================
# These settings maintain security while enabling debugging

# Server binding (SECURE - localhost only)
HOST=127.0.0.1
PORT=9001

# Connection limits (prevents abuse)
MAX_CONNECTIONS=10
MAX_QUEUE_SIZE=100

# Logging level (INFO for production, DEBUG for development)
LOG_LEVEL=INFO

# =============================================================================
# PROXY CONFIGURATION
# =============================================================================
# Azure Responses API endpoint
OPENAI_BASE_URL=https://ai-adapt-oai-eastus2.openai.azure.com/openai/v1/responses?api-version=preview
AZURE_OPENAI_ENDPOINT=https://ai-adapt-oai-eastus2.openai.azure.com

# Model mappings
BIG_MODEL=gpt-5
MIDDLE_MODEL=gpt-5
SMALL_MODEL=gpt-5

# Performance settings
MAX_TOKENS_LIMIT=512000
MIN_TOKENS_LIMIT=4096
MAX_RETRIES=2

# =============================================================================
# SECURITY HARDENING OPTIONS
# =============================================================================
# Additional security measures

# Enable comprehensive audit logging
ENABLE_AUDIT_LOGGING=true

# Enable rate limiting (requests per minute per IP)
ENABLE_RATE_LIMITING=true
RATE_LIMIT_PER_MINUTE=60

# Enable request validation
ENABLE_REQUEST_VALIDATION=true

# TLS enforcement (set to true in production)
REQUIRE_TLS=false

# =============================================================================
# USAGE INSTRUCTIONS
# =============================================================================
# 1. Copy this file to .env
# 2. Replace placeholder values with real credentials
# 3. Never commit .env to version control
# 4. Use environment-specific configurations as needed
# 5. Regularly rotate API keys and credentials
